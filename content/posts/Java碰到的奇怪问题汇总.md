---
title: Java碰到的奇怪问题汇总
date: 2020-04-23 19:12:21
tags: [Java]
---


## 1.除法返回0.0

### 情景展示

　　double d = 1/10;

　　System.out.println(d);

　　返回的结果居然是 0.0 

### 原因分析

　　第一步：你会发现用运算结果也可以用 int 类型接收

　　**在 Java 语言中，整数之间的除法运算，不管你的小数位有多少位，小数是几，统统舍弃，只返回整数位数字！**

　　第二步：用 double 类型接收为什么也可以？

　　因为 double 类型的取值返回要大于 int 类型，所以属于向上类型转换，当然可以用比它大的容器接收。
　　
　　第三步：为什么整数之间的除法运算，只返回整数位？

　　因为在 Java 中，由运算结果，由被运算数的最高数据类型决定，也就是说：整数之间的运算，数据类型都为 int 类型，所以，返回的结果也为 int 类型。 

### 3. 解决方案

　　如果我们想要返回完整的运算结果 ，我们就需要将其中一个的数据类型转换成 double 类型或者 float 类型，而不是只改变接收运算结果的数据类型！

　　方式一：将被除数转换成 double 类型

```
double d4 = 100d/235886;
System.out.println(d4);//4.2393359504167265E-4
```

　　方式二：将除数转换成 double 类型

```
double d5 = 100/235886d;
System.out.println(d5);//4.2393359504167265E-4
```

　　方式三：将被除数转换成 float 类型

```
float f4 = 2358861f/235886;
System.out.println(f4);//10.000004
```

　　方式四：将除数转换成 float 类型

```
float f5 = 2358861/235886f;
System.out.println(f5);//10.000004
```

　　连续运算

```
// 连续运算也是如此
int i4 = 1234567/1000/3600;
System.out.println(i4);//0
double d = 1234567d/1000/3600;
System.out.println(d);//0.34293527777777777
```

　　转换成 long 类型没用哦！

```
long l = 100L/235886;
System.out.println(l);// 0
```

　　两个 Long 类型的数值进行除法运算

```
System.out.println("long类型除法运算：" + 12345678910L/98765432110L);//0
System.out.println("上升为double类型运算：" + 12345678910L/98765432110D);//0.12499999894953125
System.out.println("上升为float类型运算：" + 12345678910L/98765432110F);//0.125
```

### js 的整数间的运算，会返回实际运算结果

console.log(1/10);  //0.1


